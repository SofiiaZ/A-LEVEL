SELENIUM
---------

**SELENIUM** -это проект, в рамках которого разрабатывается серия программных
продуктов с открытым исходным кодом (open source):

+ Selenium WebDriver
+ Selenium RC
+ Selenium Server
+ Selenium Grid
+ Selenium IDE

:heavy_check_mark: Selenium IDE
------------
Если Вы хотите сделать:
+ небольшой сценарий для быстрого автоматизированного воспроизведения бага,
+ вспомогательный скрипт для выполнения отдельных рутинных действий при ручном тестировании,

Вам нужен *Selenium IDE* - расширение браузера Firefox, которое позволяет записывать и воспроизводить действия пользователя в браузере.

:heavy_check_mark: Selenium WebDriver
------------

Если Вам требуется разработать:
+ надежный фреймворк автоматизации, способный работать с любым браузером,
+ большой тестовый набор, включающий тесты с достаточно сложной логикой поведения и проверок,
Вам нужен *Selenium WebDriver* - набор библиотек для различных языков программирования, позволяющих управлять браузером из программы, написанной на этом языке программирования.

:heavy_check_mark: Selenium Server + Selenium Grid
------------

Если Вам необходимо:
+ запускать тесты удалённо на разных машинах с разными операционными системами и браузерами,
+ организовать тестовый стенд для выполнения большого количества тестов,
Вам нужен *Selenium Server* - он может принимать команды с удалённой машины, где работает сценарий автоматизации, и исполнять их в браузере. Несколько серверов Selenium могут образовывать распределённую сеть, которая называется *Selenium Grid*, что позволяет легко масштабировать стенд автоматизации.

![Image alt](https://github.com/SofiiaZ/A-LEVEL/blob/master/WEB-AUTOMATION/Selenium.bmp)   

SELENIUM WEBDRIVER
---------------

По назначению Selenium WebDriver представляет собой драйвер браузера, то есть программную библиотеку, которая позволяет разрабатывать программы, управляющие поведением браузера.

По своей сущности Selenium WebDriver представляет собой:
+ спецификацию программного интерфейса для управления браузером,
+ референсные реализации этого интерфейса для нескольких браузеров,
+ набор клиентских библиотек для этого интерфейса на нескольких языках программирования.

Selenium WebDriver, или просто WebDriver – это драйвер браузера, то есть не имеющая пользовательского интерфейса программная библиотека, которая позволяет различным другим программам взаимодействовать с браузером, управлять его поведением, получать от браузера какие-то данные и заставлять браузер выполнять какие-то команды.

Для работы с Webdriver необходимо 3 основных программных компонента:
1. Браузер, работу которого пользователь хочет автоматизировать. Это реальный браузер определенной версии, установленный на определенной ОС и имеющий свои настройки (по умолчанию или кастомные). На самом деле Webdriver может работать и с "ненастоящими" браузерами, но подробно о них позже.
2. Для управления браузером совершенно необходим driver браузера. Driver на самом деле является веб сервером, который запускает браузер и отправляет ему команды, а также закрывает его. У каждого браузера свой driver. Связано это с тем, что у каждого браузера свои отличные команды управления и реализованы они по-своему. Найти список доступных драйверов и ссылки для скачивания можно на официальном сайте Selenium проекта.
3. Скрипт/тест, который содержит набор команд на определенном языке программирования для драйвера браузера. Такие скрипты используют Selenium Webdriver bindings (готовые библиотеки), которые доступны пользователям на различных языках.

[Полная информация о SELENIUM WEBDRIVER](https://www.seleniumhq.org/projects/webdriver/)

Create first test
======

1. Устанавливаем Maven (https://www.apache-maven.ru/install.html)
2. Скачиваем chromedriver и запоминаем путь куда его распаковали (HTTPS://CHROMEDRIVER.STORAGE.GOOGLEAPIS.COM/INDEX.HTML?PATH=2.45/)
3. Создаем проект File -> New -> Project
4. Выбираем Maven progect -> НЕ ставим галочку в поле "Create from archetype"
![Image alt](https://github.com/SofiiaZ/A-LEVEL/blob/master/WEB-AUTOMATION/Maven.bmp)
5. Заполняем обязательные поля -> Finish
 
:heavy_check_mark: Проект создан!

:heavy_plus_sign: Подключаем Maven dependencies
--------

для этого добавляем код приведенный ниже в файл pom.xml

```
    <dependencies>
        <dependency>
            <groupId>org.seleniumhq.selenium</groupId>
            <artifactId>selenium-java</artifactId>
            <version>3.141.59</version>
        </dependency>
        <dependency>
            <groupId>org.testng</groupId>
            <artifactId>testng</artifactId>
            <version>6.14.3</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.testng</groupId>
            <artifactId>testng</artifactId>
            <version>6.14.3</version>
            <scope>compile</scope>
        </dependency>
    </dependencies>
```

:heavy_plus_sign: Создаем класс в котором будет храниться тест.
--------

:heavy_plus_sign: Создаем метод с аннотацией \@Test и добавляем в него приведенный ниже код
--------

```
@Test
    public void checkGoogle() {
        System.setProperty("webdriver.chrome.driver", "C:\\Users\\sofiia.zaitseva\\Desktop\\chromedriver.exe");
        WebDriver driver = new ChromeDriver();
        driver.get("http://www.google.com");

        Boolean bool = driver.findElement(By.xpath("//*[@alt='Google']")).isDisplayed();
        System.out.println(bool);

        Assert.assertTrue(bool, "Google page is opened successfully");
        driver.quit();
    }
```
    
:white_check_mark: Для запуска теста необходимо кликнуть на "зеленую стрелку" возле сигнатуры метода. Для запуска сьюта, следует проделать идентичное действие на уровне класса.

Выводы
--------

+ Webdriver - самая важная сущность, отвественная за управление браузером. Основной ход скрипта/теста строится именно вокруг экземпляра этой сущности.

+ Webelement - вторая важная сущность, представляющая собой абстракцию над веб элементом (кнопки, ссылки, инпута и др.). Webelement инкапсулирует методы для взаимодействия пользователя с элементами и получения их текщего статуса.

+ By - абстракция над локатором веб элемента. Этот класс инкапсулирует информацию о селекторе(например, CSS), а также сам локатор элемента, то есть всю информацию, необходимую для нахождения нужного элемента на странице.   

ОТКРЫТИЕ СТРАНИЦЫ
-----

Для того, чтобы перейти на страницу используется метод get
```driver.get("http://www.google.com");```

В зависимости от определенных факторов, включая комбинацию OS/Browser, WebDriver может ждать, а может и не ждать пока страница полностью загрузится.

ПЕРЕХОД ПО ТАБКАМ БРАУЗЕРА И ФРЕЙМАМ
-------

Для того, чтобы перейти на другую табку используется следующий метод:
```driver.switchTo().window("windowName");```

Название окна можно поискать в html разметке
```<a href="somewhere.html" target="windowName">Click here to open a new window</a>```

Либо пройтись по всем табкам

```
for (String handle : driver.getWindowHandles()) {
driver.switchTo().window(handle);
}
```

Метод который позволяет переключится между фреймами.
```driver.switchTo().frame("frameName");```

[Что такое фрейм?](http://htmlbook.ru/samhtml/freymy)

МЕТОДЫ НАВИГАЦИИ
-------

```driver.navigate().to("http://www.example.com");```

“navigate().to()” и “get()” выполняют одно и то же.

Так же есть методы, которые эмулирую работу браузерных кнопок
Вперед/Назад

```
driver.navigate().forward();
driver.navigate().back();
```
